@page "/orders"
@inject HttpClient Http
@code {
    private List<Order> orders;

    protected override async Task OnInitializedAsync()
    {
        orders = await Http.GetFromJsonAsync<List<Order>>("api/orders");
    }

    private async Task UpdateOrderStatus(int orderId, string status)
    {
        var content = new StringContent(JsonConvert.SerializeObject(status), Encoding.UTF8, "application/json");
        var response = await Http.PutAsync($"api/orders/{orderId}", content);
        if (response.IsSuccessStatusCode)
        {
            // Update order status locally
            Order order1 = orders.FirstOrDefault(o => o.Id == orderId);
            var order = order1;
            if (order != null)
            {
                order.Status = status;
            }
        }
    }
}
